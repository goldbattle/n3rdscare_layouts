<html>
<head>
	<link href="style/base.css" rel="stylesheet">
	<link href="style/odometer-theme-minimal.css" rel="stylesheet">
</head>
<body>

<!-- our donation bar -->
<div class="total-raise-bar">
	<div id="odom-outside" class="odometer-custom">
		<span class="odometer-middle-text">$</span>
		<span id="odometer" class="odometer">0</span>
	</div>
</div>

<!-- script that will animate the donation total -->
<script src="lib/odometer.min.js"></script>
<script src="lib/fittext.js"></script>

<script>
	// Listen for changes in the total donation amount
	const repGoal = nodecg.Replicant('goalRep');
	repGoal.on('change', (newValue, oldValue) => {
		odometer.innerText = newValue.raw;
		window.fitText(document.getElementById("odom-outside"),0.6);
	});
	window.fitText(document.getElementById("odom-outside"),0.6);
</script>


</body>
</html>
